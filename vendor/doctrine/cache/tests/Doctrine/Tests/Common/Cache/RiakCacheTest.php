<?php
 namespace Doctrine\Tests\Common\Cache; use Riak\Bucket; use Riak\Connection; use Riak\Exception; use Doctrine\Common\Cache\RiakCache; class RiakCacheTest extends CacheTest { private $connection; private $bucket; protected function setUp() { try { $this->connection = new Connection('127.0.0.1', 8087); $this->bucket = new Bucket($this->connection, 'test'); } catch (Exception\RiakException $e) { $this->markTestSkipped('Cannot connect to Riak.'); } } public function testGetStats() { $cache = $this->_getCacheDriver(); $stats = $cache->getStats(); $this->assertNull($stats); } protected function _getCacheDriver() { return new RiakCache($this->bucket); } } 
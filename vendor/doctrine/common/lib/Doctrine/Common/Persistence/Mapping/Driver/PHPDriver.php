<?php
 namespace Doctrine\Common\Persistence\Mapping\Driver; use Doctrine\Common\Persistence\Mapping\ClassMetadata; class PHPDriver extends FileDriver { protected $metadata; public function __construct($locator, $fileExtension = null) { parent::__construct($locator, '.php'); } public function loadMetadataForClass($className, ClassMetadata $metadata) { $this->metadata = $metadata; $this->loadMappingFile($this->locator->findMappingFile($className)); } protected function loadMappingFile($file) { $metadata = $this->metadata; include $file; return [$metadata->getName() => $metadata]; } } 
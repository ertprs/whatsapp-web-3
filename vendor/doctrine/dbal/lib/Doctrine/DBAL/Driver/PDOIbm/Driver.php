<?php
 namespace Doctrine\DBAL\Driver\PDOIbm; use Doctrine\DBAL\Driver\AbstractDB2Driver; use Doctrine\DBAL\Driver\PDOConnection; class Driver extends AbstractDB2Driver { public function connect(array $params, $username = null, $password = null, array $driverOptions = array()) { $conn = new PDOConnection( $this->_constructPdoDsn($params), $username, $password, $driverOptions ); return $conn; } private function _constructPdoDsn(array $params) { $dsn = 'ibm:'; if (isset($params['host'])) { $dsn .= 'HOSTNAME=' . $params['host'] . ';'; } if (isset($params['port'])) { $dsn .= 'PORT=' . $params['port'] . ';'; } $dsn .= 'PROTOCOL=TCPIP;'; if (isset($params['dbname'])) { $dsn .= 'DATABASE=' . $params['dbname'] . ';'; } return $dsn; } public function getName() { return 'pdo_ibm'; } } 
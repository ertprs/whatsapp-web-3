<?php
 namespace Doctrine\DBAL\Id; use Doctrine\DBAL\Schema\Table; use Doctrine\DBAL\Schema\Schema; use Doctrine\DBAL\Schema\Column; use Doctrine\DBAL\Schema\ForeignKeyConstraint; use Doctrine\DBAL\Schema\Sequence; use Doctrine\DBAL\Schema\Index; class TableGeneratorSchemaVisitor implements \Doctrine\DBAL\Schema\Visitor\Visitor { private $generatorTableName; public function __construct($generatorTableName = 'sequences') { $this->generatorTableName = $generatorTableName; } public function acceptSchema(Schema $schema) { $table = $schema->createTable($this->generatorTableName); $table->addColumn('sequence_name', 'string'); $table->addColumn('sequence_value', 'integer', array('default' => 1)); $table->addColumn('sequence_increment_by', 'integer', array('default' => 1)); } public function acceptTable(Table $table) { } public function acceptColumn(Table $table, Column $column) { } public function acceptForeignKey(Table $localTable, ForeignKeyConstraint $fkConstraint) { } public function acceptIndex(Table $table, Index $index) { } public function acceptSequence(Sequence $sequence) { } } 
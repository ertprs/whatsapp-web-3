<?php
 namespace Doctrine\DBAL\Platforms; class PostgreSQL92Platform extends PostgreSQL91Platform { public function getJsonTypeDeclarationSQL(array $field) { return 'JSON'; } public function getSmallIntTypeDeclarationSQL(array $field) { if ( ! empty($field['autoincrement'])) { return 'SMALLSERIAL'; } return parent::getSmallIntTypeDeclarationSQL($field); } public function hasNativeJsonType() { return true; } protected function getReservedKeywordsClass() { return 'Doctrine\DBAL\Platforms\Keywords\PostgreSQL92Keywords'; } protected function initializeDoctrineTypeMappings() { parent::initializeDoctrineTypeMappings(); $this->doctrineTypeMapping['json'] = 'json_array'; } public function getCloseActiveDatabaseConnectionsSQL($database) { $database = $this->quoteStringLiteral($database); return "SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = $database"; } } 
<?php
 namespace Silex; use Symfony\Component\HttpFoundation\Request; use Symfony\Component\HttpKernel\Controller\ArgumentValueResolverInterface; use Symfony\Component\HttpKernel\ControllerMetadata\ArgumentMetadata; class AppArgumentValueResolver implements ArgumentValueResolverInterface { private $app; public function __construct(Application $app) { $this->app = $app; } public function supports(Request $request, ArgumentMetadata $argument) { return null !== $argument->getType() && ($argument->getType() === Application::class || is_subclass_of($argument->getType(), Application::class)); } public function resolve(Request $request, ArgumentMetadata $argument) { yield $this->app; } } 
<?php
 namespace Silex\Application; use Symfony\Component\HttpFoundation\Response; use Symfony\Component\HttpFoundation\StreamedResponse; trait TwigTrait { public function render($view, array $parameters = array(), Response $response = null) { $twig = $this['twig']; if ($response instanceof StreamedResponse) { $response->setCallback(function () use ($twig, $view, $parameters) { $twig->display($view, $parameters); }); } else { if (null === $response) { $response = new Response(); } $response->setContent($twig->render($view, $parameters)); } return $response; } public function renderView($view, array $parameters = array()) { return $this['twig']->render($view, $parameters); } } 
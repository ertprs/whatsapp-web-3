<?php
 namespace Symfony\Component\Security\Core\Authentication\Token; use Symfony\Component\Security\Core\Role\Role; class AnonymousToken extends AbstractToken { private $secret; public function __construct($secret, $user, array $roles = array()) { parent::__construct($roles); $this->secret = $secret; $this->setUser($user); $this->setAuthenticated(true); } public function getCredentials() { return ''; } public function getSecret() { return $this->secret; } public function serialize() { return serialize(array($this->secret, parent::serialize())); } public function unserialize($serialized) { list($this->secret, $parentStr) = unserialize($serialized); parent::unserialize($parentStr); } } 
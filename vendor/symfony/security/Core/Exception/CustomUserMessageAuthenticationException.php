<?php
 namespace Symfony\Component\Security\Core\Exception; class CustomUserMessageAuthenticationException extends AuthenticationException { private $messageKey; private $messageData = array(); public function __construct($message = '', array $messageData = array(), $code = 0, \Exception $previous = null) { parent::__construct($message, $code, $previous); $this->setSafeMessage($message, $messageData); } public function setSafeMessage($messageKey, array $messageData = array()) { $this->messageKey = $messageKey; $this->messageData = $messageData; } public function getMessageKey() { return $this->messageKey; } public function getMessageData() { return $this->messageData; } public function serialize() { return serialize(array( parent::serialize(), $this->messageKey, $this->messageData, )); } public function unserialize($str) { list($parentData, $this->messageKey, $this->messageData) = unserialize($str); parent::unserialize($parentData); } } 